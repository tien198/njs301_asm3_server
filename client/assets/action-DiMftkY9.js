import{s as o,v as n,w as c,b as i,c as d}from"./index-Dx58Rt-t.js";import{S as u}from"./serverAPIs-C9DFLgdu.js";async function h(e){const s=o.dispatch,a=Object.fromEntries((await e.request.formData()).entries());try{const t=await fetch(u.login,{method:e.request.method,headers:{"content-type":"application/json"},body:JSON.stringify(a),credentials:"include"});if(t.status===422||t.status===401)return t;if(t.status===200){const r=await t.json();n(r)}return c("/")}catch(t){t.status||(s(i()),s(d({statusText:"Failed to connect to server, please check your network"})))}}export{h as action};
