import{d as V,j as e,G as m,r as g,p as w,h as y,f as A,X as C,M as H,Y as P,Z as D,C as Y}from"./index-CRE5LPH1.js";import{u as q,E as x,i as c}from"./ErrorMsg-Dp3txW9E.js";import{D as z}from"./DarkButton-BQ68UUZJ.js";import{T as F,c as d}from"./CartLayout.module-D-wdST9X.js";function u(s,a){const[n,r,t]=V(),l=q(s,String(n),a);return[n,r,l,t]}function p({fieldName:s,id:a,type:n,placeHolder:r,val:t,onChangeVal:l}){return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{htmlFor:a,className:"text-zinc-500 uppercase",children:[s,":"]}),e.jsx("input",{type:n||"text",id:a,placeholder:r,className:"px-5 py-3 border outline-yellow-600",value:t,onChange:l})]})}function O({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(p,{fieldName:"Full Name",id:"full-name",placeHolder:"Enter Your Full Name Hear!",val:s,onChangeVal:a}),e.jsx(x,{msg:n,className:"font-thin pt-1 px-4"})]})}function B({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(p,{fieldName:"Email",id:"email",placeHolder:"Enter Your Email Hear!",val:s,onChangeVal:a}),e.jsx(x,{msg:n,className:"font-thin pt-1 px-4"})]})}function R({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(p,{type:"number",fieldName:"Phone number",id:"phone-number",placeHolder:"Enter Your Phone Number Hear!",val:s,onChangeVal:a}),e.jsx(x,{msg:n,className:"font-thin pt-1 px-4"})]})}function W({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(p,{fieldName:"Address",id:"address",placeHolder:"Enter Your Address Hear!",val:s,onChangeVal:a}),e.jsx(x,{msg:n,className:"font-thin pt-1 px-4"})]})}function _(s,a,n,r,t){return{shippingTracking:{fullName:s,email:a,phone:String(n),address:r},items:t.map(l=>({productId:l.productId,quantity:l.quantity}))}}function G({className:s}){const[a,n,r]=u("Full name",[c]),[t,l,o]=u("Email",[c]),[h,j,N]=u("Phone number",[c]),[v,E,b]=u("Address",[c]),M=m(f=>f.cart.items),[i,I]=g.useState(!1),T=w();function S(f){if(f.preventDefault(),I(!0),r||o||N||b)return null;const k=_(a,t,h,v,M);T(k,{method:"post",encType:"application/json"})}return e.jsxs("form",{onSubmit:S,className:`flex flex-col gap-5 ${s}`,children:[e.jsx(O,{val:a,onChangeVal:n,invalidMsg:i?r:""}),e.jsx(B,{val:t,onChangeVal:l,invalidMsg:i?o:""}),e.jsx(R,{val:h,onChangeVal:j,invalidMsg:i?N:""}),e.jsx(W,{val:v,onChangeVal:E,invalidMsg:i?b:""}),e.jsx("div",{children:e.jsx(z,{className:"py-3 px-10 italic text-lg",children:"Place order"})})]})}function L({name:s,price:a,quantity:n}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h6",{className:"first-letter:capitalize lowercase",children:s}),e.jsxs("span",{className:"text-sm text-zinc-500",children:[y(a)," VND x ",n]})]}),e.jsx("hr",{className:"my-2 bg-zinc-500"})]})}function X({className:s}){const a=m(({cart:r})=>r.items),n=m(({cartTotal:r})=>r.total);return e.jsxs(F,{className:s,children:[e.jsx("h4",{className:"text-2xl",children:"Your order"}),e.jsxs("div",{children:[a.map(r=>e.jsx(L,{name:r.name,price:r.price,quantity:r.quantity},r.productId)),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[y(n)," VND"]})]})]})]})}function Z({truthyFnc:s,falsyFnc:a,oncloseFnc:n,children:r}){const t=A(),l=g.useCallback(function(){t(C()),s==null||s()},[s,t]),o=g.useCallback(function(){t(C()),a==null||a()},[a,t]);return m(j=>j.modal.type)!=="inform"?e.jsx(e.Fragment,{}):e.jsx(H,{onCloseFnc:n,children:e.jsxs("div",{className:P.container,children:[r,e.jsxs("div",{className:"flex justify-between items-center gap-10",children:[e.jsx("span",{children:e.jsx("button",{className:"text-white bg-gray-800 px-10 py-1.5 hover:bg-gray-950 hover:rounded",onClick:l,children:"Ok"})}),e.jsx("span",{children:e.jsx("button",{className:"px-6 py-1.5 border border-white hover:border hover:border-gray-800",onClick:o,children:"Cancel"})})]})]})})}function U(){const s=D();return e.jsxs("div",{className:d["cart-layout"],children:[e.jsx(G,{className:d.cart}),e.jsx(X,{className:d.total}),e.jsx("div",{className:d.rest}),e.jsx(Z,{oncloseFnc:()=>s(Y.Orders),children:"Order Success !"})]})}export{U as default};
