import{s as o,t as n,v as c,b as i,c as u}from"./index-DdPWhHOj.js";import{S as d}from"./serverAPIs-ClfebQWR.js";async function f(s){const e=o.dispatch,r=Object.fromEntries((await s.request.formData()).entries());try{const t=await fetch(d.login,{method:s.request.method,headers:{"content-type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(t.status===422||t.status===401)return t;if(t.status===200){const a=await t.json();e(n(a.user))}return c("/")}catch(t){t.status||(e(i("error")),e(u({statusText:"Failed to connect to server, please check your network"})))}}export{f as action};
