import{b as V,j as e,G as p,r as T,n as F,f as v,M as H}from"./index-B1CSgobL.js";import{u as A,E as u,i as o}from"./ErrorMsg-f1GJtMF8.js";import{D as P}from"./DarkButton-CrRSOR8q.js";import{T as w,c}from"./CartLayout.module-lT1LBXts.js";function d(a,s){const[n,t,r]=V(),l=A(a,String(n),s);return[n,t,l,r]}function m({fieldName:a,id:s,type:n,placeHolder:t,val:r,onChangeVal:l}){return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{htmlFor:s,className:"text-zinc-500 uppercase",children:[a,":"]}),e.jsx("input",{type:n||"text",id:s,placeholder:t,className:"px-5 py-3 border outline-yellow-600",value:r,onChange:l})]})}function k({val:a,onChangeVal:s,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(m,{fieldName:"Full Name",id:"full-name",placeHolder:"Enter Your Full Name Hear!",val:a,onChangeVal:s}),e.jsx(u,{msg:n,className:"font-thin pt-1 px-4"})]})}function D({val:a,onChangeVal:s,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(m,{fieldName:"Email",id:"email",placeHolder:"Enter Your Email Hear!",val:a,onChangeVal:s}),e.jsx(u,{msg:n,className:"font-thin pt-1 px-4"})]})}function Y({val:a,onChangeVal:s,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(m,{type:"number",fieldName:"Phone number",id:"phone-number",placeHolder:"Enter Your Phone Number Hear!",val:a,onChangeVal:s}),e.jsx(u,{msg:n,className:"font-thin pt-1 px-4"})]})}function q({val:a,onChangeVal:s,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(m,{fieldName:"Address",id:"address",placeHolder:"Enter Your Address Hear!",val:a,onChangeVal:s}),e.jsx(u,{msg:n,className:"font-thin pt-1 px-4"})]})}function z(a,s,n,t,r){return{shippingTracking:{fullName:a,email:s,phone:String(n),address:t},items:r.map(l=>({productId:l.productId,quantity:l.quantity}))}}function B({className:a}){const[s,n,t]=d("Full name",[o]),[r,l,h]=d("Email",[o]),[j,b,f]=d("Phone number",[o]),[N,y,g]=d("Address",[o]),E=p(x=>x.cart.items),[i,C]=T.useState(!1),M=F();function I(x){if(x.preventDefault(),C(!0),t||h||f||g)return null;const S=z(s,r,j,N,E);M(S,{method:"post",encType:"application/json"})}return e.jsxs("form",{onSubmit:I,className:`flex flex-col gap-5 ${a}`,children:[e.jsx(k,{val:s,onChangeVal:n,invalidMsg:i?t:""}),e.jsx(D,{val:r,onChangeVal:l,invalidMsg:i?h:""}),e.jsx(Y,{val:j,onChangeVal:b,invalidMsg:i?f:""}),e.jsx(q,{val:N,onChangeVal:y,invalidMsg:i?g:""}),e.jsx("div",{children:e.jsx(P,{className:"py-3 px-10 italic text-lg",children:"Place order"})})]})}function O({name:a,price:s,quantity:n}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h6",{className:"first-letter:capitalize lowercase",children:a}),e.jsxs("span",{className:"text-sm text-zinc-500",children:[v(s)," VND x ",n]})]}),e.jsx("hr",{className:"my-2 bg-zinc-500"})]})}function W({className:a}){const s=p(({cart:t})=>t.items),n=p(({cartTotal:t})=>t.total);return e.jsxs(w,{className:a,children:[e.jsx("h4",{className:"text-2xl",children:"Your order"}),e.jsxs("div",{children:[s.map(t=>e.jsx(O,{name:t.name,price:t.price,quantity:t.quantity},t.productId)),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[v(n)," VND"]})]})]})]})}function G(){return e.jsx(H,{children:e.jsx("div",{className:"h-96 flex items-center justify-center",children:"Success Order!"})})}function J(){return e.jsxs("div",{className:c["cart-layout"],children:[e.jsx(G,{}),e.jsx(B,{className:c.cart}),e.jsx(W,{className:c.total}),e.jsx("div",{className:c.rest})]})}export{J as default};
