import{d as V,j as e,I as h,r as j,p as w,h as C,f as A,Z as b,M as H,_ as P,$ as D,C as Y}from"./index-Dx58Rt-t.js";import{u as q,E as m,i as c}from"./ErrorMsg-DFGX5EC8.js";import{D as z}from"./DarkButton-B6Ax7bn1.js";import{T as O,c as d}from"./CartLayout.module-CQN4jX8h.js";function u(s,a){const[n,r,t]=V(),l=q(s,String(n),a);return[n,r,l,t]}function x({fieldName:s,id:a,type:n,placeHolder:r,val:t,onChangeVal:l}){return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{htmlFor:a,className:"text-zinc-500 uppercase",children:[s,":"]}),e.jsx("input",{type:n||"text",id:a,placeholder:r,className:"px-5 py-3 border outline-yellow-600",value:t,onChange:l})]})}function B({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(x,{fieldName:"Full Name",id:"full-name",placeHolder:"Enter Your Full Name Hear!",val:s,onChangeVal:a}),e.jsx(m,{msg:n,className:"font-thin pt-1 px-4"})]})}function F({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(x,{fieldName:"Email",id:"email",placeHolder:"Enter Your Email Hear!",val:s,onChangeVal:a}),e.jsx(m,{msg:n,className:"font-thin pt-1 px-4"})]})}function _({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(x,{type:"number",fieldName:"Phone number",id:"phone-number",placeHolder:"Enter Your Phone Number Hear!",val:s,onChangeVal:a}),e.jsx(m,{msg:n,className:"font-thin pt-1 px-4"})]})}function R({val:s,onChangeVal:a,invalidMsg:n}){return e.jsxs("div",{children:[e.jsx(x,{fieldName:"Address",id:"address",placeHolder:"Enter Your Address Hear!",val:s,onChangeVal:a}),e.jsx(m,{msg:n,className:"font-thin pt-1 px-4"})]})}function W(s,a,n,r,t){return{shippingTracking:{fullName:s,email:a,phone:String(n),address:r},items:t.map(l=>({productId:l.productId,quantity:l.quantity}))}}function $({className:s}){const[a,n,r]=u("Full name",[c]),[t,l,i]=u("Email",[c]),[f,y,N]=u("Phone number",[c]),[g,E,v]=u("Address",[c]),M=h(p=>p.cart.items),[o,I]=j.useState(!1),S=w();function k(p){if(p.preventDefault(),I(!0),r||i||N||v)return null;const T=W(a,t,f,g,M);S(T,{method:"post",encType:"application/json"})}return e.jsxs("form",{onSubmit:k,className:`flex flex-col gap-5 ${s}`,children:[e.jsx(B,{val:a,onChangeVal:n,invalidMsg:o?r:""}),e.jsx(F,{val:t,onChangeVal:l,invalidMsg:o?i:""}),e.jsx(_,{val:f,onChangeVal:y,invalidMsg:o?N:""}),e.jsx(R,{val:g,onChangeVal:E,invalidMsg:o?v:""}),e.jsx("div",{children:e.jsx(z,{className:"py-3 px-10 italic text-lg",children:"Place order"})})]})}function L({name:s,price:a,quantity:n}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h6",{className:"first-letter:capitalize lowercase",children:s}),e.jsxs("span",{className:"text-sm text-zinc-500",children:[C(a)," VND x ",n]})]}),e.jsx("hr",{className:"my-2 bg-zinc-500"})]})}function Z({className:s}){const a=h(({cart:r})=>r.items),n=h(({cartTotal:r})=>r.total);return e.jsxs(O,{className:s,children:[e.jsx("h4",{className:"text-2xl",children:"Your order"}),e.jsxs("div",{children:[a.map(r=>e.jsx(L,{name:r.name,price:r.price,quantity:r.quantity},r.productId)),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[C(n)," VND"]})]})]})]})}function G({truthyFnc:s,falsyFnc:a,oncloseFnc:n,children:r}){const t=A(),l=j.useCallback(function(){t(b()),s==null||s()},[s,t]),i=j.useCallback(function(){t(b()),a==null||a()},[a,t]);return e.jsx(H,{onCloseFnc:n,children:e.jsxs("div",{className:P.container,children:[r,e.jsxs("div",{className:"flex justify-between items-center gap-10",children:[e.jsx("span",{children:e.jsx("button",{className:"text-white bg-gray-800 px-10 py-1.5 hover:bg-gray-950 hover:rounded",onClick:l,children:"Ok"})}),e.jsx("span",{children:e.jsx("button",{className:"px-6 py-1.5 border border-white hover:border hover:border-gray-800",onClick:i,children:"Cancel"})})]})]})})}function X(){const s=D();return e.jsxs("div",{className:d["cart-layout"],children:[e.jsx($,{className:d.cart}),e.jsx(Z,{className:d.total}),e.jsx("div",{className:d.rest}),e.jsx(G,{oncloseFnc:()=>s(Y.Orders),children:"Order Success !"})]})}export{X as default};
